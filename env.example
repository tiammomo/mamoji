# ===========================================
# Mamoji - 环境配置示例文件
# ===========================================
#
# 使用方法：
# 1. 复制此文件为 .env 或 env
# 2. 根据需要修改配置值
# 3. ⚠️ 生产环境务必修改所有密钥和密码
#

# ===========================================
# 应用通用配置
# ===========================================
APP_NAME=Mamoji
APP_ENV=development
APP_DEBUG=true
APP_VERSION=1.0.0

# ===========================================
# 前端配置 (Next.js)
# ===========================================
NEXT_PUBLIC_API_URL=http://localhost:8888
NEXT_PUBLIC_WS_URL=ws://localhost:8888/ws
NEXT_PUBLIC_APP_NAME=Mamoji
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_ENABLE_MOCK=false

# ===========================================
# 后端配置 (Go - Hertz)
# ===========================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8888
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_MAX_REQUEST_BODY_SIZE=10MB

# ===========================================
# 数据库配置 (MySQL - 阿里云 RDS)
# ===========================================
DB_HOST=rm-bp14vg2ya3u8067d0ko.mysql.rds.aliyuncs.com
DB_PORT=3306
DB_USERNAME=mamoji123!
DB_PASSWORD=mamoji123!
DB_NAME=mamoji
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
DB_MAX_OPEN_CONNS=100
DB_MAX_IDLE_CONNS=10
DB_CONN_MAX_LIFETIME=1h

# ===========================================
# Redis 配置 (阿里云 Redis)
# ===========================================
REDIS_HOST=r-bp17r86g9eu9urg5wepd.redis.rds.aliyuncs.com
REDIS_PORT=6379
REDIS_USERNAME=mamoji
REDIS_PASSWORD=mamoji123!
REDIS_DB=0
REDIS_POOL_SIZE=100
REDIS_KEY_PREFIX=mamoji:

# ===========================================
# JWT 认证配置
# ===========================================
JWT_SECRET_KEY=change-this-to-a-secure-32-character-key
JWT_EXPIRE_HOURS=24
JWT_ALGORITHM=HS256

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL=debug
LOG_FORMAT=json
LOG_OUTPUT=stdout

# ===========================================
# 缓存配置
# ===========================================
CACHE_USER_INFO_TTL=30m
CACHE_ENTERPRISE_TTL=30m
CACHE_UNIT_LIST_TTL=10m
CACHE_ACCOUNT_BALANCE_TTL=5m
CACHE_TRANSACTION_LIST_TTL=5m
CACHE_STATISTICS_TTL=10m

# ===========================================
# 文件上传配置
# ===========================================
UPLOAD_MAX_SIZE=10MB
UPLOAD_ALLOWED_TYPES=jpg,jpeg,png,gif,webp,pdf
UPLOAD_PATH=./uploads
UPLOAD_URL_PREFIX=/uploads

# ===========================================
# 业务配置
# ===========================================
BUDGET_WARNING_THRESHOLD=80
BUDGET_CRITICAL_THRESHOLD=90
INVEST_REMINDER_STOCK=3
INVEST_REMINDER_FUND=7
INVEST_REMINDER_GOLD=7
INVEST_REMINDER_REGULAR=7
DAILY_REPORT_TIME=20:00
LARGE_EXPENSE_THRESHOLD=10000

# ===========================================
# 安全配置
# ===========================================
CORS_ALLOW_ORIGINS=http://localhost:3000,http://localhost
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Origin,Content-Type,Accept,Authorization
CORS_ALLOW_CREDENTIALS=true
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
